<!DOCTYPE html>
<html lang="en" class="h-full">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ config['APP_NAME'] }} - Personal Library</title>
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='favicon.svg') }}">
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=EB+Garamond:ital,wght@0,400;0,500;1,400&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --vintage-cream: #f4ece1;
            --vintage-paper: #f9f4ef;
            --vintage-ink: #1a1614;
            --vintage-gold: #b58d4a;
            --vintage-accent: #2d4a3e;
            /* Deep emerald */
            --transition-speed: 0.3s;
        }

        body {
            font-family: 'EB Garamond', serif;
            background-color: var(--vintage-cream);
            color: var(--vintage-ink);
            line-height: 1.6;
        }

        h1,
        h2,
        h3,
        h4,
        .font-serif-display {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            letter-spacing: -0.01em;
        }

        .paper-texture {
            background-color: var(--vintage-paper);
            background-image: url("https://www.transparenttextures.com/patterns/notebook.png");
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.03);
        }

        .vintage-border {
            border: 1px solid var(--vintage-gold);
            padding: 2px;
            outline: 1px solid var(--vintage-gold);
            outline-offset: 4px;
        }

        .transition-soft {
            transition: all var(--transition-speed) cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-link {
            position: relative;
            padding-bottom: 2px;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 1px;
            bottom: 0;
            left: 0;
            background-color: var(--vintage-accent);
            transition: width var(--transition-speed) ease;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        /* Responsive adjustments */
        @media (max-width: 640px) {
            h1 {
                font-size: 1.5rem;
            }

            .nav-text {
                display: none;
            }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: var(--vintage-cream);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--vintage-gold);
            border-radius: 10px;
        }
    </style>
</head>

<body class="h-full flex flex-col min-h-screen antialiased">
    <nav class="sticky top-0 z-50 bg-vintage-cream/80 backdrop-blur-md border-b border-black/5 py-4">
        <div class="max-w-6xl mx-auto px-6 flex justify-between items-center">
            <a href="{{ url_for('index') }}" class="flex items-center gap-2 md:gap-3 group flex-shrink-0">
                <img src="{{ url_for('static', filename='logo.svg') }}" alt="Logo"
                    class="w-7 h-7 md:w-8 md:h-8 object-contain transition-soft group-hover:rotate-12">
                <h1
                    class="text-xl md:text-2xl font-bold tracking-tight text-vintage-ink/90 group-hover:text-vintage-accent transition-soft">
                    {{ config['APP_NAME'] }}
                </h1>
            </a>

            <div class="flex items-center gap-4 md:gap-10">
                <div class="flex gap-4 md:gap-8 text-[11px] md:text-sm uppercase tracking-[0.15em] font-medium">
                    <a href="{{ url_for('index') }}"
                        class="nav-link hover:text-vintage-accent transition-soft">Collection</a>
                    <a href="{{ url_for('stats') }}"
                        class="nav-link hover:text-vintage-accent transition-soft">Stats</a>
                    {% if current_user.is_authenticated %}
                    <a href="{{ url_for('search') }}"
                        class="nav-link hover:text-vintage-accent transition-soft">Search</a>
                    {% endif %}
                </div>

                {% if current_user.is_authenticated %}
                <div class="h-4 w-px bg-black/10"></div>
                <a href="{{ url_for('logout') }}"
                    class="text-[9px] uppercase tracking-widest opacity-40 hover:opacity-100 hover:text-red-800 transition-soft">Logout</a>
                {% endif %}
            </div>
        </div>
    </nav>

    <main class="flex-grow max-w-6xl mx-auto px-6 py-8 md:py-16 w-full">
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        <div class="max-w-4xl mx-auto">
            {% for message in messages %}
            <div
                class="mb-8 p-4 bg-red-50/50 border-l-2 border-red-400 text-red-800 text-sm italic animate-in fade-in slide-in-from-top-4 duration-500">
                {{ message }}
            </div>
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
    </main>

    <footer class="py-12 border-t border-black/5 text-center">
        <div class="max-w-6xl mx-auto px-6 space-y-6">
            <div class="flex justify-center gap-4 opacity-20">
                <div class="h-px w-8 bg-black"></div>
                <div class="h-1 w-1 rounded-full bg-black"></div>
                <div class="h-px w-8 bg-black"></div>
            </div>

            <p class="text-[10px] md:text-xs uppercase tracking-[0.3em] opacity-30 italic">
                Catalogued in the year {{ now.year if now else '2025' }}
            </p>
        </div>
    </footer>
</body>

</html>